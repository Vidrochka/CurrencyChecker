# CurrencyChecker
Check currency

Репозиторий состоит из 5 проектов

1. CurrencyChecker - основная программа. Запрашивает данные курса валют и записывает в базу данных
2. CurrencyChecker.Test - несколько небольших тестов для CurrencyChecker
3. ExchangeRateSelector - консольная программа выбирающая данные из базы данных
4. SharedModels - общие модели для проектов
5. ExchangeRateWebView - 2 web api метода выбирающие данные из таблицы

# CurrencyChecker
- Конфигурируется фалом congig.json
- Можно запускать как:
* Консольное приложение
* Службу windows
- Работает пока не будет обработан graceful shutdown
- Берет из конфига время в которое ежедневно производится загрузка данных
- При запуске узнает из конфига необходимость немедленной загрузки данных

# ExchangeRateSelector
- Работает как консольное приложение
- Принимает параметры:
1. Дату
2. Сокращенное название курса валют (CharCode)
- Выдает:
1. Номинал
2. Сумму

# ExchangeRateWebView
- Имеет 2 get контрола
1. currency - выдает 1 элемент валюты за текущий день по сокращенному названию валюты (CharCode), формат /currency/CharCode. Если валюта не найдена - 404
2. currencies - имеет 3 способа работы 
* /currencies - выводит все валюты за текущий день
* /currencies/pageLength выводит все за текущий день в количестве не больше pageLength
* /currencies/pageLength/pageNumber выводит все валюты за текущий день в количестве не больше pageLength с пропуском первых pageLength * (pageNumber - 1) 
- Ответ приходит в виде json массива / объекта
## В папке DB скрипты для базы данных
- Скрипт для инициализации таблицы (Не нужен из за EF6)
- Скрипт выбирающий данные из таблицы идентично ExchangeRateSelector